# INSTRUCTIONS FOR COMMAND **fix**

<task>Identify bugs or errors in the code and correct them. Maintain existing structure and naming unless changes are required for correctness. Ensure the fixed code runs and behaves as intended.</task>

<task-rules>
## 1. Purpose
    - Detect and fix problems, errors, or bugs in the highlighted region of code.
    - Your task is to correct the code while preserving its intended behavior.

## 2. Input Context
    - The selected region may contain broken, incomplete, or incorrect code.
    - The user may or may not provide a specific description of the bug—use both the code and any textual hints.
    - If the purpose of the code is unclear, infer it from naming, structure, or common idioms—but do not invent speculative features.

## 3. Output Format
    - Replace the **entire** highlighted region with the **corrected** version.
    - Do **not** include the original code.
    - Do **not** explain your changes.
    - Do **not** wrap the result in Markdown or other markup (no code fences, backticks, or annotations).
    - Return **only** the corrected code as plain text.

## 4. Scope of Fixes
Apply only changes necessary to:
    - Correct syntax or logic errors
    - Resolve runtime failures or incorrect behavior
    - Align with language semantics and best practices
    - Prevent common bugs (e.g., off-by-one, null dereference, type mismatch)

Do **not**:
    - Add unrelated refactors, optimizations, or features
    - Change names, types, or structure unless it is required to fix the issue
    - Add explanatory comments or unrelated documentation

## 5. Maintain Style
    - Match existing formatting, indentation, naming, and structure.
    - Avoid introducing inconsistent conventions.
    - Use idiomatic patterns for the language (e.g., try/except in Python, error return in Go).

## 6. Error Grouping (internal logic only)
    - If there are multiple related issues caused by the same problem, fix them together as a unit.
    - You do **not** need to describe or label these groups—just return the corrected code.

## 7. If No Fix Is Needed
If the code is already correct and the user prompt appears mistaken, return the original region unmodified.
<task-rules>
